{"version":3,"file":"background.ts.js","sources":["../../src/runtime/extension/background/background.ts"],"sourcesContent":["console.log(\"background is running\");\n\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n\n  /* if token requested, fetch and send back */\n  if (request.type === \"get token\") {\n    (async () => {\n      const data = await chrome.storage.local.get(\"token\");\n      const token = data[\"token\"] ?? null;\n      sendResponse(token);\n    })();\n    return true;\n  }\n\n  /* if token provided, save for future use */\n  else if (request.type === \"set token\") {\n    chrome.storage.local.set({ token: request.token });\n  }\n\n  else if(request.type === \"get setting\"){\n    (async () => {\n      const data = await chrome.storage.local.get(request.key as string);\n      let item = data[request.key] ?? null;\n      if(item === \"_undefined_\") item = undefined;\n      sendResponse(item);\n    })();\n    return true;\n  }\n\n  else if(request.type === \"set setting\"){\n\n    /* map undefined to string */\n    if(request.value === undefined) request.value = \"_undefined_\";\n    chrome.storage.local.set({ [request.key]: request.value });\n  }\n});"],"names":[],"mappings":"AAAA,QAAQ,IAAI,uBAAuB,EAEnC,OAAO,QAAQ,UAAU,YAAY,CAAC,QAAS,OAAQ,eAAiB,CAGlE,GAAA,QAAQ,OAAS,YACnB,OAAC,SAAY,CAEL,MAAA,OADO,MAAM,OAAO,QAAQ,MAAM,IAAI,OAAO,GAChC,OAAY,KAC/B,aAAa,KAAK,CAAA,KAEb,GACT,GAGS,QAAQ,OAAS,YACxB,OAAO,QAAQ,MAAM,IAAI,CAAE,MAAO,QAAQ,MAAO,MACnD,IAEQ,QAAQ,OAAS,cACvB,OAAC,SAAY,CAEX,IAAI,MADS,MAAM,OAAO,QAAQ,MAAM,IAAI,QAAQ,GAAa,GACjD,QAAQ,GAAG,GAAK,KAC7B,OAAS,gBAAsB,KAAA,QAClC,aAAa,IAAI,CAAA,KAEZ,GAGD,QAAQ,OAAS,gBAGpB,QAAQ,QAAU,SAAW,QAAQ,MAAQ,eACzC,OAAA,QAAQ,MAAM,IAAI,CAAE,CAAC,QAAQ,GAAG,EAAG,QAAQ,KAAA,CAAO,GAE7D,CAAC"}