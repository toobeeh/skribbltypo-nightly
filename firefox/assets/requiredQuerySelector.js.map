{"version":3,"file":"requiredQuerySelector.js","sources":["../../src/runtime/extension/extension-runtime.ts","../../src/runtime/runtime.ts","../../src/util/document/appendElement.ts","../../src/util/document/requiredQuerySelector.ts"],"sourcesContent":["import type { typoReleaseDetails, TypoRuntime } from \"@/runtime/typo-runtime.interface\";\n\nexport default class ExtensionRuntime implements TypoRuntime {\n  getSetting(key: string): Promise<string | null> {\n    return chrome.runtime.sendMessage({ type: \"get setting\", key });\n  }\n\n  async writeSetting(key: string, value: string | null): Promise<void> {\n    await chrome.runtime.sendMessage({ type: \"set setting\", key, value });\n  }\n\n  getToken(): Promise<string | null> {\n    return chrome.runtime.sendMessage({ type: \"get token\" });\n  }\n\n  async setToken(token: string | null): Promise<void> {\n    await chrome.runtime.sendMessage({ type: \"set token\", token });\n  }\n\n  getReleaseDetails(): typoReleaseDetails {\n    const manifest = chrome.runtime.getManifest();\n    return {\n      version: manifest.version,\n      versionName: manifest.version_name ?? manifest.version,\n      runtime: \"extension\",\n    };\n  }\n\n  getPatchUrl(): string {\n    return chrome.runtime.getURL(\"gamePatch.js\");\n  }\n}","import * as TypoRuntimeType from \"runtime\";\nimport type { TypoRuntime } from \"@/runtime/typo-runtime.interface\";\n/**\n * The runtime of the typo application, providing access to storage, version, etc\n */\nexport const typoRuntime: TypoRuntime = new TypoRuntimeType.default();","export const appendElement = (sourceElement: HTMLElement, position: InsertPosition, parentElement: HTMLElement) => {\n  parentElement.insertAdjacentElement(position, sourceElement);\n  return sourceElement;\n};\n\nexport const createElement = (htmlString: string) => {\n  const template = document.createElement(\"template\");\n  template.innerHTML = htmlString.trim();\n  return template.content.firstChild as HTMLElement;\n};","export const requireElement = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement => {\n  const element = (root ?? document).querySelector<HTMLElement>(selector);\n  if (!element) {\n    throw new Error(`Required element not found for selector: ${selector}`);\n  }\n  return element;\n};\n\nexport const requireElements = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement[] => {\n  const elements = Array.from((root ?? document).querySelectorAll<HTMLElement>(selector));\n  if (elements.length === 0) {\n    throw new Error(`Required elements not found for selector: ${selector}`);\n  }\n  return elements;\n};\n\nexport const element = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement | null => {\n  return (root ?? document).querySelector(selector);\n};\n\nexport const elements = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement[] => {\n  return Array.from((root ?? document).querySelectorAll(selector));\n};"],"names":["TypoRuntimeType.default","element","elements"],"mappings":";;AAEA,MAAqB,oBAArB,MAAqB,kBAAwC;AAAA,EAC3D,WAAW,KAAqC;AAC9C,WAAO,OAAO,QAAQ,YAAY,EAAE,MAAM,eAAe,KAAK;AAAA,EAChE;AAAA,EAEA,MAAM,aAAa,KAAa,OAAqC;AAC7D,UAAA,OAAO,QAAQ,YAAY,EAAE,MAAM,eAAe,KAAK,OAAO;AAAA,EACtE;AAAA,EAEA,WAAmC;AACjC,WAAO,OAAO,QAAQ,YAAY,EAAE,MAAM,aAAa;AAAA,EACzD;AAAA,EAEA,MAAM,SAAS,OAAqC;AAClD,UAAM,OAAO,QAAQ,YAAY,EAAE,MAAM,aAAa,OAAO;AAAA,EAC/D;AAAA,EAEA,oBAAwC;AAChC,UAAA,WAAW,OAAO,QAAQ,YAAY;AACrC,WAAA;AAAA,MACL,SAAS,SAAS;AAAA,MAClB,aAAa,SAAS,gBAAgB,SAAS;AAAA,MAC/C,SAAS;AAAA,IAAA;AAAA,EAEb;AAAA,EAEA,cAAsB;AACb,WAAA,OAAO,QAAQ,OAAO,cAAc;AAAA,EAC7C;AACF;AA7B6D;AAA7D,IAAqB,mBAArB;ACGa,MAAA,cAA2B,IAAIA,iBAAwB;ACL7D,MAAM,gBAAgB,wBAAC,eAA4B,UAA0B,kBAA+B;AACnG,gBAAA,sBAAsB,UAAU,aAAa;AACpD,SAAA;AACT,GAH6B;AAKhB,MAAA,gBAAgB,wBAAC,eAAuB;AAC7C,QAAA,WAAW,SAAS,cAAc,UAAU;AACzC,WAAA,YAAY,WAAW;AAChC,SAAO,SAAS,QAAQ;AAC1B,GAJ6B;ACLtB,MAAM,iBAAiB,wBAAC,UAAkB,OAAgC,WAA2B;AAC1G,QAAMC,YAAW,QAAQ,UAAU,cAA2B,QAAQ;AACtE,MAAI,CAACA,UAAS;AACZ,UAAM,IAAI,MAAM,4CAA4C,QAAQ,EAAE;AAAA,EACxE;AACOA,SAAAA;AACT,GAN8B;AAQvB,MAAM,kBAAkB,wBAAC,UAAkB,OAAgC,WAA6B;AAC7G,QAAMC,YAAW,MAAM,MAAM,QAAQ,UAAU,iBAA8B,QAAQ,CAAC;AAClFA,MAAAA,UAAS,WAAW,GAAG;AACzB,UAAM,IAAI,MAAM,6CAA6C,QAAQ,EAAE;AAAA,EACzE;AACOA,SAAAA;AACT,GAN+B;AAQxB,MAAM,UAAU,wBAAC,UAAkB,OAAgC,WAAkC;AAClG,UAAA,QAAQ,UAAU,cAAc,QAAQ;AAClD,GAFuB;AAIhB,MAAM,WAAW,wBAAC,UAAkB,OAAgC,WAA6B;AACtG,SAAO,MAAM,MAAM,QAAQ,UAAU,iBAAiB,QAAQ,CAAC;AACjE,GAFwB;"}