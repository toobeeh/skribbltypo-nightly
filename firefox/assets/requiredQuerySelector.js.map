{"version":3,"file":"requiredQuerySelector.js","sources":["../../src/runtime/extension/extension-runtime.ts","../../src/runtime/runtime.ts","../../src/util/document/appendElement.ts","../../src/util/document/requiredQuerySelector.ts"],"sourcesContent":["import type { typoReleaseDetails, TypoRuntime } from \"@/runtime/typo-runtime.interface\";\n\nexport default class ExtensionRuntime implements TypoRuntime {\n  getSetting(key: string): Promise<string | null> {\n    return chrome.runtime.sendMessage({ type: \"get setting\", key });\n  }\n\n  async writeSetting(key: string, value: string | null): Promise<void> {\n    await chrome.runtime.sendMessage({ type: \"set setting\", key, value });\n  }\n\n  getToken(): Promise<string | null> {\n    return chrome.runtime.sendMessage({ type: \"get token\" });\n  }\n\n  async setToken(token: string | null): Promise<void> {\n    await chrome.runtime.sendMessage({ type: \"set token\", token });\n  }\n\n  getReleaseDetails(): typoReleaseDetails {\n    const manifest = chrome.runtime.getManifest();\n    return {\n      version: manifest.version,\n      versionName: manifest.version_name ?? manifest.version,\n      runtime: \"extension\",\n    };\n  }\n\n  getPatchUrl(): string {\n    return chrome.runtime.getURL(\"gamePatch.js\");\n  }\n}","import * as TypoRuntimeType from \"runtime\";\nimport type { TypoRuntime } from \"@/runtime/typo-runtime.interface\";\n/**\n * The runtime of the typo application, providing access to storage, version, etc\n */\nexport const typoRuntime: TypoRuntime = new TypoRuntimeType.default();","export const appendElement = (sourceElement: HTMLElement, position: InsertPosition, parentElement: HTMLElement) => {\n  parentElement.insertAdjacentElement(position, sourceElement);\n  return sourceElement;\n};\n\nexport const createElement = (htmlString: string) => {\n  const template = document.createElement(\"template\");\n  template.innerHTML = htmlString.trim();\n  return template.content.firstChild as HTMLElement;\n};","export const requireElement = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement => {\n  const element = (root ?? document).querySelector<HTMLElement>(selector);\n  if (!element) {\n    throw new Error(`Required element not found for selector: ${selector}`);\n  }\n  return element;\n};\n\nexport const requireElements = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement[] => {\n  const elements = Array.from((root ?? document).querySelectorAll<HTMLElement>(selector));\n  if (elements.length === 0) {\n    throw new Error(`Required elements not found for selector: ${selector}`);\n  }\n  return elements;\n};\n\nexport const element = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement | null => {\n  return (root ?? document).querySelector(selector);\n};\n\nexport const elements = (selector: string, root: HTMLElement | undefined = undefined): HTMLElement[] => {\n  return Array.from((root ?? document).querySelectorAll(selector));\n};"],"names":["TypoRuntimeType.default","element","elements"],"mappings":"gHAEA,MAAqB,kBAArB,MAAqB,iBAAwC,CAC3D,WAAW,IAAqC,CAC9C,OAAO,OAAO,QAAQ,YAAY,CAAE,KAAM,cAAe,IAAK,CAChE,CAEA,MAAM,aAAa,IAAa,MAAqC,CAC7D,MAAA,OAAO,QAAQ,YAAY,CAAE,KAAM,cAAe,IAAK,MAAO,CACtE,CAEA,UAAmC,CACjC,OAAO,OAAO,QAAQ,YAAY,CAAE,KAAM,YAAa,CACzD,CAEA,MAAM,SAAS,MAAqC,CAClD,MAAM,OAAO,QAAQ,YAAY,CAAE,KAAM,YAAa,MAAO,CAC/D,CAEA,mBAAwC,CAChC,MAAA,SAAW,OAAO,QAAQ,YAAY,EACrC,MAAA,CACL,QAAS,SAAS,QAClB,YAAa,SAAS,cAAgB,SAAS,QAC/C,QAAS,WAAA,CAEb,CAEA,aAAsB,CACb,OAAA,OAAO,QAAQ,OAAO,cAAc,CAC7C,CACF,EA7B6D,6CAA7D,IAAqB,iBAArB,kBCGa,MAAA,YAA2B,IAAIA,iBCL/B,cAAgB,QAAC,cAA4B,SAA0B,iBACpE,cAAA,sBAAsB,SAAU,aAAa,EACpD,eAFoB,iBAKhB,cAAgB,OAAC,YAAuB,CAC7C,MAAA,SAAW,SAAS,cAAc,UAAU,EACzC,gBAAA,UAAY,WAAW,OACzB,SAAS,QAAQ,UAC1B,EAJ6B,iBCLhB,eAAiB,QAAC,SAAkB,KAAgC,SAA2B,CAC1G,MAAMC,UAAW,MAAQ,UAAU,cAA2B,QAAQ,EACtE,GAAI,CAACA,SACH,MAAM,IAAI,MAAM,4CAA4C,QAAQ,EAAE,EAEjEA,OAAAA,QACT,EAN8B,kBAQjB,gBAAkB,QAAC,SAAkB,KAAgC,SAA6B,CAC7G,MAAMC,UAAW,MAAM,MAAM,MAAQ,UAAU,iBAA8B,QAAQ,CAAC,EAClFA,GAAAA,UAAS,SAAW,EACtB,MAAM,IAAI,MAAM,6CAA6C,QAAQ,EAAE,EAElEA,OAAAA,SACT,EAN+B,mBAQlB,QAAU,QAAC,SAAkB,KAAgC,UAChE,MAAQ,UAAU,cAAc,QAAQ,EAD3B,WAIV,SAAW,QAAC,SAAkB,KAAgC,SAClE,MAAM,MAAM,MAAQ,UAAU,iBAAiB,QAAQ,CAAC,EADzC"}